# Bestandsnaam: clusters/staging/apps.yaml
apiVersion: kustomize.toolkit.fluxcd.io/v1
kind: Kustomization
metadata:
  name: apps
  namespace: flux-system
spec:
  interval: 10m0s
  retryInterval: 1m
  timeout: 5m
  sourceRef:
    kind: GitRepository
    name: flux-system
  # De resources die deze Kustomization bundelt:
  resources:
    - ../../apps/networking/cloudflare-tunnel # <-- Zorgt voor de tunnel-Deployment/Secret/Namespace
    - ../../apps/staging/linkding          # <-- Bundelt de Linkding-applicatie
    - ../../apps/staging/mealie            # <-- Bundelt de Mealie-applicatie
  prune: true
